package me.iangry.trollingfreedom.commands;import me.iangry.trollingfreedom.main.Core;import net.citizensnpcs.api.CitizensAPI;import net.citizensnpcs.api.event.DespawnReason;import net.citizensnpcs.api.npc.NPC;import net.citizensnpcs.api.npc.NPCRegistry;import net.citizensnpcs.trait.SkinTrait;import org.bukkit.*;import org.bukkit.block.Block;import org.bukkit.command.CommandSender;import org.bukkit.entity.EntityType;import org.bukkit.entity.Player;import org.bukkit.event.Listener;import org.bukkit.potion.PotionEffect;import org.bukkit.potion.PotionEffectType;public class Herobrine implements Listener {    public static void Herobrine(final Player p) {        final Location loc2 = p.getLocation().add(p.getLocation().getDirection().setY(0).normalize().multiply(5));        final Block block1 = p.getWorld().getBlockAt(loc2.add(0.0D, 0.0D, 0.0D));        final Block block2 = p.getWorld().getBlockAt(loc2.add(0.0D, 1.0D, 0.0D));        final Block block3 = p.getWorld().getBlockAt(loc2.add(0.0D, 2.0D, 0.0D));        final Block block4 = p.getWorld().getBlockAt(p.getLocation().add(0.0D, 4.0D, 0.0D));        block1.setType(Material.GOLD_BLOCK);        block2.setType(Material.NETHERRACK);        block3.setType(Material.FIRE);        block4.setType(Material.BARRIER);        NPCRegistry registry = CitizensAPI.getNPCRegistry();        final NPC npc = registry.createNPC(EntityType.PLAYER, "");        SkinTrait skinTrait = npc.getTrait(SkinTrait.class);        skinTrait.setSkinName("her0brine");       // npc.data().set("player-skin-name", "her0brine");        npc.data().set("nameplate-visible", Boolean.valueOf(false));        npc.spawn(loc2);        npc.despawn();        npc.spawn(loc2);        npc.faceLocation(p.getLocation());        p.addPotionEffect(new PotionEffect(PotionEffectType.BLINDNESS, 50, 1));        p.setPlayerTime(15000L, true);        p.playSound(p.getLocation(), Sound.ENTITY_GHAST_AMBIENT, 50.0F, 1.0F);        p.playSound(p.getLocation(), Sound.AMBIENT_CAVE, 100.0F, 1.0F);        p.playSound(p.getLocation(), Sound.AMBIENT_CAVE, 100.0F, 1.0F);        p.playSound(p.getLocation(), Sound.AMBIENT_CAVE, 100.0F, 1.0F);        levo(p);        Bukkit.getScheduler().scheduleSyncDelayedTask(Core.instance, () -> {           // npc.despawn();            npc.destroy();            p.playSound(p.getLocation(), Sound.ENTITY_GHAST_AMBIENT, 50.0F, 1.0F);            p.getWorld().strikeLightning(loc2);            p.getWorld().strikeLightning(loc2);            p.getWorld().strikeLightning(loc2);            p.getWorld().strikeLightning(loc2);            p.getWorld().spawnParticle(Particle.DRAGON_BREATH, loc2, 300);            block1.setType(Material.REDSTONE_TORCH);            block2.setType(Material.AIR);            block3.setType(Material.AIR);            block4.setType(Material.AIR);            p.resetPlayerTime();            Bukkit.getScheduler().runTaskLater(Core.instance, () -> {                Bukkit.getServer().dispatchCommand(Bukkit.getServer().getConsoleSender(), "citizens save");                Bukkit.getServer().dispatchCommand(Bukkit.getServer().getConsoleSender(), "citizens reload");                Bukkit.getServer().dispatchCommand(Bukkit.getServer().getConsoleSender(), "citizens reload");            }, 100L);        }, 200L);    }    private static void levo(Player p) {        if (Core.instance.getConfig().getBoolean("troll-config.herobrine-levitation")) {            p.addPotionEffect(new PotionEffect(PotionEffectType.LEVITATION, 200, 1));        } else                return;            }    }